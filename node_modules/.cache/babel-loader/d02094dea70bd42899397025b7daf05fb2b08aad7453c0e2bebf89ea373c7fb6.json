{"ast":null,"code":"import React from'react';import{json,checkStatus}from'./util';import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Conv extends React.Component{constructor(props){super(props);this.handlingLeftValChange=e=>{const leftVal=e.target.value;this.setState({leftVal,rightVal:this.toRight(leftVal,this.state.rate)});};this.handlingRightValChange=e=>{const rightVal=e.target.value;this.setState({leftVal:this.toLeft(rightVal,this.state.rate),rightVal});};this.handlingBaseCur=currency=>{this.setState({baseCurrency:currency},()=>this.fetchRate(currency,this.state.targetCurrency));};this.handlingTargetCur=currency=>{this.setState({targetCurrency:currency},()=>this.fetchRate(this.state.baseCurrency,currency));};this.state={rate:1,leftVal:1,rightVal:1,baseCurrency:\"USD\",targetCurrency:\"EUR\",currencies:{}//currencies list\n};}fetchCurrencies(){fetch(`https://api.frankfurter.app/currencies`).then(checkStatus).then(json).then(data=>{const currencies=Object.keys(data);this.setState({currencies:data});}).catch(error=>console.error('Error fetching currency list:',error));}fetchRate(baseCurrency,targetCurrency){if(baseCurrency===targetCurrency){this.setState({rate:1,rightVal:this.state.leftVal});}else{fetch(`https://api.frankfurter.app/latest?base=${baseCurrency}&symbols=${targetCurrency}`).then(checkStatus).then(json).then(data=>{const rate=data.rates[targetCurrency];this.setState({rate,rightVal:this.toRight(this.state.leftVal,rate)});}).catch(error=>console.log('Error fetching exchange rate',error));}}toLeft(amount,rate){return amount*(1/rate);}toRight(amount,rate){return amount*rate;}componentDidMount(){this.fetchCurrencies();this.fetchRate(this.state.baseCurrency,this.state.targetCurrency);}render(){const{rate,leftVal,rightVal,baseCurrency,targetCurrency,currencies}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 mb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-2\",children:\"Currency Converter\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[currencies[baseCurrency],\" 1 : \",rate,\" \",currencies[targetCurrency]]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown dropend col-3 text-center\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary dropdown-toggle\",\"data-bs-toggle\":\"dropdown\",children:baseCurrency}),/*#__PURE__*/_jsx(\"ul\",{class:\"dropdown-menu\",children:Object.entries(currencies).map(_ref=>{let[code,name]=_ref;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:()=>this.handlingBaseCur(code),children:[name,\" (\",code,\")\"]})},code);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 text-center\",children:[/*#__PURE__*/_jsx(\"input\",{value:leftVal,onChange:this.handlingLeftValChange,type:\"number\",className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-4\",children:\"=\"}),/*#__PURE__*/_jsx(\"input\",{value:rightVal,onChange:this.handlingRightValChange,type:\"number\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown dropstart col-3 text-center\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary dropdown-toggle\",\"data-bs-toggle\":\"dropdown\",children:targetCurrency}),/*#__PURE__*/_jsx(\"ul\",{class:\"dropdown-menu\",children:Object.entries(currencies).map(_ref2=>{let[code,name]=_ref2;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:()=>this.handlingTargetCur(code),children:[name,\" (\",code,\")\"]})},code);})})]})]})]});}}export default Conv;","map":{"version":3,"names":["React","json","checkStatus","Link","jsx","_jsx","jsxs","_jsxs","Conv","Component","constructor","props","handlingLeftValChange","e","leftVal","target","value","setState","rightVal","toRight","state","rate","handlingRightValChange","toLeft","handlingBaseCur","currency","baseCurrency","fetchRate","targetCurrency","handlingTargetCur","currencies","fetchCurrencies","fetch","then","data","Object","keys","catch","error","console","rates","log","amount","componentDidMount","render","className","children","class","entries","map","_ref","code","name","onClick","onChange","type","_ref2"],"sources":["/Users/ravichasuksawasdinaayuthaya/Fullstack Practice/Altcademy/ReactJS-SPA/Currency-converter-ReactJS/src/cal.js"],"sourcesContent":["import React from 'react';\nimport { json, checkStatus } from './util';\nimport { Link } from \"react-router-dom\";\n\n\nclass Conv extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        rate: 1,\n        leftVal: 1,\n        rightVal: 1,\n        baseCurrency: \"USD\",\n        targetCurrency: \"EUR\",\n        currencies: {}, //currencies list\n      };\n    }\n    fetchCurrencies() {\n        fetch(`https://api.frankfurter.app/currencies`).then(checkStatus).then(json)\n        .then(data => {\n            const currencies = Object.keys(data);\n            this.setState({currencies:data});\n        })\n        .catch(error => console.error('Error fetching currency list:', error));\n    }\n    fetchRate(baseCurrency, targetCurrency) {\n        if (baseCurrency === targetCurrency) {\n            this.setState({ rate: 1, rightVal: this.state.leftVal });\n          } else {\n            fetch(`https://api.frankfurter.app/latest?base=${baseCurrency}&symbols=${targetCurrency}`)\n              .then(checkStatus)\n              .then(json)\n              .then(data => {\n                const rate = data.rates[targetCurrency];\n                this.setState({\n                  rate,\n                  rightVal: this.toRight(this.state.leftVal, rate),\n                });\n              })\n              .catch(error => console.log('Error fetching exchange rate', error));\n          }\n    }\n    handlingLeftValChange = (e) => {\n        const leftVal = e.target.value;\n        this.setState({\n            leftVal,\n            rightVal: this.toRight(leftVal,this.state.rate),\n        });\n    };\n    handlingRightValChange = (e) => {\n        const rightVal = e.target.value;\n        this.setState({\n            leftVal: this.toLeft(rightVal,this.state.rate),\n            rightVal,\n        });\n    };\n    handlingBaseCur = (currency) => {\n        this.setState(\n            {baseCurrency:currency}, \n            () => this.fetchRate(currency, this.state.targetCurrency)\n            );\n    };\n    handlingTargetCur = (currency) => {\n        this.setState(\n            {targetCurrency: currency},\n            () => this.fetchRate(this.state.baseCurrency, currency)\n        );\n    };\n    toLeft(amount, rate) {\n      return amount * (1 / rate);\n    }\n  \n    toRight(amount, rate) {\n      return amount * rate;\n    }\n    componentDidMount() {\n        this.fetchCurrencies();\n        this.fetchRate(this.state.baseCurrency, this.state.targetCurrency);\n    }\n\n    render() {\n      const { rate, leftVal, rightVal, baseCurrency, targetCurrency, currencies } = this.state;\n  \n      return (\n        <div className=\"container\">\n          <div className=\"text-center p-3 mb-2\">\n            <h2 className=\"mb-2\">Currency Converter</h2>\n            <h4>{currencies[baseCurrency]} 1 : {rate} {currencies[targetCurrency]}</h4>\n          </div>\n\n          <div className=\"row\">\n          <div class=\"dropdown dropend col-3 text-center\">\n            <button class=\"btn btn-primary dropdown-toggle\" data-bs-toggle=\"dropdown\">\n                   {baseCurrency}\n            </button>\n            <ul class=\"dropdown-menu\">\n            {Object.entries(currencies).map(([code, name]) => (\n                <li key={code}>\n                  <button\n                    className=\"dropdown-item\"\n                    onClick={() => this.handlingBaseCur(code)}\n                  >\n                    {name} ({code})\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n        <div className=\"col-6 text-center\">\n            <input\n                value={leftVal}\n                onChange={this.handlingLeftValChange}\n                type='number'\n                className='form-control'\n            />\n            <span className='mx-4'>=</span>\n            <input\n                value={rightVal}\n                onChange={this.handlingRightValChange}\n                type='number'\n                className='form-control'\n            />\n        </div>\n\n        <div class=\"dropdown dropstart col-3 text-center\">\n            <button class=\"btn btn-primary dropdown-toggle\" data-bs-toggle=\"dropdown\">\n                   {targetCurrency}               \n            </button>\n            <ul class=\"dropdown-menu\">\n            {Object.entries(currencies).map(([code, name]) => (\n                <li key={code}>\n                  <button\n                    className=\"dropdown-item\"\n                    onClick={() => this.handlingTargetCur(code)}\n                  >\n                    {name} ({code})\n                  </button>\n                </li>\n              ))}\n            </ul>\n        </div>\n        </div>\n    </div>\n      )\n    }\n  }\n\n\nexport default Conv"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}